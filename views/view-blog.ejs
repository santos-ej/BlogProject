<%- include('partials/header.ejs') %>

<div class="container my-5"> 
    <div class="p-5 text-center bg-body-tertiary rounded-3"> 
        <h1 class="text-body-emphasis">
             <%= locals.getBlog.title %>
        </h1> 

        <h4 class="col-lg-8 mx-auto fs-5 text-muted">
          by <%= locals.getBlog.createdBy %>
        </h4> 

        <h4 class="col-lg-8 mx-auto fs-5 text-muted">
           at <%= locals.getBlog.createdAt %>
        </h4> 

        <hr>
        <p class="col-lg-8 mx-auto fs-5 text-muted">
            <%= locals.getBlog.content %>
        </p> 
        <hr>
        <div class="d-inline-flex gap-2 mb-5">     
        <%# buttons %> 


        <form method="POST" action="/view-blog/<%=locals.getBlog.id%>" onsubmit="return confirm('Are you sure you want to delete this Blog?');"> 
            <% 
            if( locals.username === getBlog.createdBy)
            {
            %> 
            <button name="editButton" class="d-inline-flex align-items-center btn btn-primary btn-lg px-4" type="button" onclick="location.href='/edit-blog/<%= locals.getBlog.id %>'">
                    Edit
            </button> 

            <button name="deleteButton" value="soft-delete" class="btn btn-outline-warning btn-lg px-4 " type="submit">
                Delete
            </button> 
            <%}%> 

            <button class="btn btn-outline-secondary btn-lg px-4 " type="button" onclick="location.href='/home'">
                Back to Home
            </button> 
        </form> 

        </div>
    </div> 
</div>

<%- include('partials/footer.ejs') %>
